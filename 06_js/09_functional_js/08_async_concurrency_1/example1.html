<script src="lib/fx.js"></script>

<script>
  // callback과 Promise
  function add10(a, callback) {
    setTimeout(() => callback(a + 10), 100);
  }

  var a = add10(5, res => {
    add10(res, res => {
      add10(res, res => {
        log(res);
      });
    });
  });

  log(a);

  // Promise
  // 비동기 상황을 값으로 다룰 수 있다. => '일급' => 변수에 할당될 수도 있고 함수에게 전달될 수도 있고 전달된 값을 가지고 계속해서 이어나갈 수 있다.
  function add20(a) {
    return new Promise(resolve => setTimeout(() => resolve(a + 20), 100));
  }

  var b = add20(5)
    .then(add20)
    .then(add20)
    .then(log);
  
  log(b);
</script>